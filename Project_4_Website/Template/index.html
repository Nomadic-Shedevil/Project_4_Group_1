<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mushroom Edibility Prediction</title>
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            /* Placeholder for a pixelated font */
            background-color: #5c94fc;
            /* Sky blue background, reminiscent of Mario levels */
            color: white;
            text-align: center;
        }

        form {
            background-color: #ff8c00;
            /* Mushroom orange */
            padding: 20px;
            margin: auto;
            width: 50%;
            border-radius: 15px;
            box-shadow: 0 0 10px #000;
        }

        select,
        button {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
        }

        button {
            background-color: #ff0000;
            /* Mario's cap red */
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        h1 {
            color: #ffffff;
        }

        h2 {
            color: #ff0;
        }
    </style>
    <script>
        $(document).ready(function () {
            console.log("Script loaded"); // Confirm the script loads
            $('form').submit(function (event) {
                event.preventDefault();
                var formData = $(this).serialize();
                console.log("Form Data: ", formData); // Inspect serialized data
                $.ajax({
                    type: 'POST',
                    url: '/predict/',
                    data: formData,
                    success: function (response) {
                        console.log("Success Response: ", response); // Check the response
                        $('#prediction-result').html("Prediction: The mushroom is <strong>" + response.result + "</strong>.");
                    },
                    error: function (xhr, status, error) {
                        console.error("Error Response: ", xhr.responseText); // Log any error
                    }
                });
            });
        });
    </script>

</head>

<body>
    <h1>Mushroom Edibility Prediction</h1>
    <form method="GET" action="/predict">
        <div>
            <label for="cap-shape">Cap Shape:</label>
            <select id="cap-shape" name="cap-shape">
                <option value="0">Bell</option>
                <option value="1">Conical</option>
                <option value="2">Convex</option>
                <option value="3">Flat</option>
                <option value="4">Knobbed</option>
                <option value="5">Sunken</option>
            </select>
        </div>
        <div>
            <label for="gill-spacing">Gill Spacing:</label>
            <select id="gill-spacing" name="gill-spacing">
                <option value="0">Close</option>
                <option value="1">Crowded</option>
                <option value="2">Distant</option>
            </select>
        </div>
        <div>
            <label for="gill-color">Gill Color:</label>
            <select id="gill-color" name="gill-color">
                <option value="0">Black</option>
                <option value="1">Brown</option>
                <option value="2">Buff</option>
                <option value="3">Chocolate</option>
                <option value="4">Gray</option>
                <option value="5">Green</option>
                <option value="6">Orange</option>
                <option value="7">Pink</option>
                <option value="8">Purple</option>
                <option value="9">Red</option>
                <option value="10">White</option>
                <option value="11">Yellow</option>
            </select>
        </div>
        <div> <label for="stalk-shape">Stalk Shape:</label>
            <select id="stalk-shape" name="stalk-shape">
                <option value="0">Enlarging</option>
                <option value="1">Tapering</option>
            </select>

        </div>
        <div><label for="stalk-root">Stalk Root:</label>
            <select id="stalk-root" name="stalk-root">
                <option value="0">Bulbous</option>
                <option value="1">Club</option>
                <option value="2">Cup</option>
                <option value="3">Equal</option>
                <option value="4">Rhizomorphs</option>
                <option value="5">Rooted</option>
                <option value="6">Missing</option>
            </select>
        </div>
        <div><label for="stalk-color-below-ring">Stalk Color Below Ring:</label>
            <select id="stalk-color-below-ring" name="stalk-color-below-ring">
                <option value="0">Brown</option>
                <option value="1">Buff</option>
                <option value="2">Cinnamon</option>
                <option value="3">Gray</option>
                <option value="4">Orange</option>
                <option value="5">Pink</option>
                <option value="6">Red</option>
                <option value="7">White</option>
                <option value="8">Yellow</option>
            </select>
        </div>
        <div><label for="ring-type">Ring Type:</label>
            <select id="ring-type" name="ring-type">
                <option value="0">Cobwebby</option>
                <option value="1">Evanescent</option>
                <option value="2">Flaring</option>
                <option value="3">Large</option>
                <option value="4">None</option>
                <option value="5">Pendant</option>
                <option value="6">Sheathing</option>
                <option value="7">Zone</option>
            </select>
        </div>
        <div> <label for="spore-print-color">Spore Print Color:</label>
            <select id="spore-print-color" name="spore-print-color">
                <option value="0">Black</option>
                <option value="1">Brown</option>
                <option value="2">Buff</option>
                <option value="3">Chocolate</option>
                <option value="4">Green</option>
                <option value="5">Orange</option>
                <option value="6">Purple</option>
                <option value="7">White</option>
                <option value="8">Yellow</option>
            </select>
        </div>
        <div><label for="population">Population:</label>
            <select id="population" name="population">
                <option value="0">Abundant</option>
                <option value="1">Clustered</option>
                <option value="2">Numerous</option>
                <option value="3">Scattered</option>
                <option value="4">Several</option>
                <option value="5">Solitary</option>
            </select>
        </div>
        <div> <label for="habitat">Habitat:</label>
            <select id="habitat" name="habitat">
                <option value="0">Grasses</option>
                <option value="1">Leaves</option>
                <option value="2">Meadows</option>
                <option value="3">Paths</option>
                <option value="4">Urban</option>
                <option value="5">Waste</option>
                <option value="6">Woods</option>
            </select>
        </div>
        <div>
            <input type="submit" name = "submit_button" value="is it edible?">
        </div>
    </form>

    <div id="prediction-result"></div>
</body>

</html>
